\documentclass{thesisreport}


\begin{document}

 \include{thesisfront}  
 
  \section*{Abstract}
   
 
 
 
 \newpage
 
 \section*{Acknowledgements}
 I would like to thank first Dr. SÃ©bastien Briot and professor Olivier Kermorgant for having developed this thesis proposal accordingly to my willing, and thus giving me the opportunity to work under their stimulating supervision. 
 
 I want also to thank...
 
  \section*{Abbreviations}
 \begin{tabular}{cp{0.8\textwidth}}
 	\textbf{CPR}	&	Continuum Parallel Robot			\\
 	\textbf{ODE}	&	Odinary Differential Equation		\\
 	\textbf{PDE}	&	Partial Differential Equation		\\
 	\textbf{BVP}	&	Boundary Value Problem				\\
 	\textbf{ICA}	&	Isogeometric Collocation Analysis	\\
 	\textbf{NURBS}	&	Non-Uniform Rational B-Splines		\\
 	\textbf{DGM}	&	Direct Geometric Model				\\
 	\textbf{IGM}	&	Inverse Geometric Model				\\
 	\textbf{DDM}	&	Direc Dynamic Model					\\
 	\textbf{IDM}	&	Inverse Dynamic Model				\\
 \end{tabular}

 \tableofcontents
 
 
 \chapter*{Introduction}
 \addcontentsline{toc}{chapter}{Introduction}	 % non-numbered chapters do not appear in table of contents by default
 \section{Motivations for CPRs}
  Nowadays robots are used in industry in an increasing number of applications. Such as example 1... example 2...
 As far as robot architecture is concerned, we can distinguish between serial and parallel arrangement: the former is the simpler and it is widely used thanks to their structure, composed of links connected in series by joints. However, their inertia plays an important role in their design due to the weight of the actuators mounted on the arm. and the links. They must be stiff enought to sustain the structure and thus their wieght is considerably high.
 
 On the other hand, parallel robots have closed loop shape. Some designs allow to place the actuators in the base only. In contrast to serial robot, parallel manipulators design result in stiffer and low inertia architectures. On the other hand, the multimple joints involved require small assembly tolerances and bring additional maintenance costs.
 
 For what concerns continuum parallel robots, they consist in an assembly of slender beams connected to a platform. The rigid links propers of standard manipulators are replaced with flexible components; they are assumed as highly deformable. In fact, the motion of these robots is due to the deformation of their beams assembly.
 The platforms are placed at least on the top and bottom of the robot, providing place for the end effector and actuators respectively. However, intermediate disks can be placed in the robot body providing structural constraints for the beams.  
 
 This assembly brings several advantages to the robot performances. First the lightweight body of the robot has a smaller inertia compared to the other kinds of robots, resulting in a more precise and less energy-consuming movements. Moreover, the robot assembly results easier as less joints are involved in the design. Additionally, the high deformabilty of the rods may enhance the robot safety in presence of humans. In fact, if a human happens to be in the robot trajectory, the rod hitting the human could bend, reducing the possible human damage. Finally, these robots have the possibility to be mignaturized. A miniaturization is beneficial where small and precise operations are required, such as in a surgery or other medical applications. 
 
 On the other hand, these robots have limited payload and more instability configurations.
 
 These robots are thus very reliable, safe and versatile. The main difficulties comes with their modelling. Their modelling does not have an analitycal solution and thus it as to be computed numerically in each position and configuration. In the literature there are several method proposed to solve this problem. In the following, the investigated method are presented and discussed.
 
 \section{Aim of this thesis}
 The aim of this master thesis is to investigate and develop a general simulator for continuum parallel robots. The simulator must be able to handle different kinds of architecture for CPR, including change in size of some componets of the robot as well as different arrangement fo the links \cite{bryson_toward_2014}. In the literature, two assemblies are usually considered. The first is the Stewart-Gough PCR in \cite{till_efficient_2015}\cite{black_parallel_2018} its static modelling is considered while in \cite{till_real-time_2019} Till et al also investigated the dynamic modelling. They also investigated a tendon-driven robot and a fluidic soft robot in \cite{till_real-time_2019}. These different robots require modelling with specific care to individual features, to better represent their characteristic behavior. 
 
 For the graphical interface, the simulator will rely on Gazebo \cite{koenig_design_2004}\cite{noauthor_gazebo_nodate}, a widely use physical simulator in the ROS framework \cite{noauthor_rosorg_nodate}. Practically speaking, the simulator consists in the development of some plugins for Gazebo. These plugins are responsible for solving the robot models: DGM, IGM, DDM, IDM.
  The modelling problem corresponds to find the actuator positions and wrenches, which are the inputs, to obtain the desired output. In the DGM case, we want to obtain the end effector position given the input. In the IGM case, we want to calculate the input in order to obtain a given output: position or wrench in the end effctor. On the other hand, when we consider the dinamics of the robot, when computing the input/output relation, the dynamic of the robot plays an important role. 
 
 In order to correctly simulate the robot, the simulator must solve the modelling for different robot architectures. In the literature, the models are alredy investigated by Black et al who developed the DGM for a Stewart-Gough robot in \cite{black_parallel_2018}. For this robot Till et al presented the solution for the IGM and IDM in \cite{till_real-time_2019} and \cite{till_efficient_2015} respectively.
 
 For solving the modelling problems, in the literature many ad oc solution are presented \cite{till_efficient_2015}\cite{black_parallel_2018}\cite{till_real-time_2019}. However, these approaches are well suited only for a specific CPR architecture, with a poor prospective of generalization. This master thesis aims to define a general simulator which can be use to simulate these robots indipendently by they structure. 
 
 \chapter{State of the art}
 Generally speaking, in order to identify the equilibrium configuration of a CPR in a genreral case, we are facing to the solution of a static or dynamic problem. This solution corresponds to the configuration at equilibrium under the external load, the actuators action and the assembly constraints. To model each rod the Cosserat theory is widely used in literature, as in the work of Black\cite{black_parallel_2018}\cite{black_modeling_2017} and Till\cite{till_efficient_2015}\cite{till_real-time_2019}. In the Cosserat theory, each rod is described geometrically by its centerline position and orientation. It corresponds to a 1D body where, for every coordinate in the arc-lenght, there is a corresponding cross section position and orientation. The centerline positions and cross section orentations are defined with respect to a reference frame external to the rod body, expressing their coordinates in an Euclidean space \cite{selig_geometric_2005}. 
 At each cross section, equilibrium considerations correlate punctual or distributed external forces to internal actions. The rod deformation is described by the influences of these forces, material properties and geometric properties. These equations define a ODE system. This system solution depends on the boundary and initial conditions. The boundary conditions come from the robot architecture, at the patform and at the base, the assembly the applied loads bring contrains to the system solution. In fact the joints implemented and their position with respect to the end effector frame plays an important role in the BVP, as explained in Black et al \cite{black_parallel_2018}. Depending on the joint type, one or more components of the internal forces must be null or assume a value directly depending on the exteranl wrench applied on or by the end effector.  
 
 In the following, three approaches that have been investigated, in accordance with the literature, are briefly presented.
 
 \section{Shooting Method}
 The shooting method is a generic numerical tool for the sikution of boundary value problem and it is widely used in the literature \cite{black_parallel_2018}\cite{black_modeling_2017}\cite{florian_geometrically_2020}. This approach allows us to simulate PCRs with high precision, as required for surgical operations, like the one described by Black et al in \cite{black_modeling_2017}. Moreover, it is possible to evaluate robot performances in simulation as Black et al explained in \cite{black_parallel_2018} and, with greater detail, in \cite{black_modeling_2017}. The shooting method is an iterative process, based on a non linear solver like the Levenberg-Marquardt algorithm, which is widley discussed in literature: an introduction of concepts and properties is presented in\cite{lourakis_brief_nodate}. 
 The solver is used for minimizing the value of a cost function\cite{florian_geometrically_2020}. In the CPRs case, the cost function is defined as a row vector which contains equilibrium equations, geometrical constrains and material relations with respect to the loads. In the equilibrium configuration, the cost function is, on virtually, equal to zero, as the solver converged to solution of the problem. 
 The shooting method consists of a development of guesses. Starting from some initial conditions, the method evaluates the Jacobian relationship between the cost function and the unknown variables, that consist of the solution for the current configuration. Using this Jacobian relation, the non linear solver computes another guess. This iterative process stops when it converges to an equilibrium solution or when it reaches maximum number of iterations. For computing the Jacobian relationship, the process could be broke in different threads. As discussed in \cite{till_efficient_2015} the procedure can be parallelized, obtaining appreaciable improvements in terms of computational time.  
 
 When considering the dynamic modelling, the complexity increases. The equilibrium euqations and the BVP have now to account for the rods and their assembly dynamics. Quantities like the centerline position and cross section orientation now depend both on the arc-lenght coordinate and time. Simlarly, all the other vector fields now are funtion of time and thus their time derivative must be considered. 
 
 The system of equation becomes a PDE, having derivatives on the arc-lenght and time. Till et al \cite{till_real-time_2019} proposed a solution to replace the time derivative with an implicit time differentiation formula. It consists in replacing the time derivative by a sum of the current value and the history of previous values. This allows an intutive application of the shooting method. As it changes only the current guess for the values, leaving apart the previous parameters lumped in the history term simplifies the notation. The shooting method will then change only the current guess and, at the convercenge of the solution, it will became a part of the history as well. 
 
 A critical aspect of this solution is the choice of the timestep. Too small timestep will bring high numerical cancellations. On the other hand, timestep of a too big size lead to instability. 
 
 This method is able to find non stable configurations and to model the robot reaching the closeby stable configuration. On the other hand, it is very sensible to the initial conditions. This sensitivity may lead to problem when for slightly different initial conditions the final solutions are different. 
 
 
 \section{Strain Parametrization}
 
 This approach was proposed by Boyer et al in 2019 \cite{boyer_dynamics_2019}. They developed a modelling for a slender body deforming and moving in space, treated as an internally actuated Cosserat beam. This modelling can be reduced to different study cases. 
 
 It integrates the Cosserat theory with the notion of allowed and prohibited twists. They depend on the assumption on the deformation of the rod. Being justified by the theory of slender bodies, we could neglect the shear deformation.
 
 The configuration space of the floating beam is the composition of the configuration space of the beam base frame and the configuration space of its shape. This last space is a functional one: an infinite dimensional space for the parametrized curve. 
 This formulation is relaxed by the introduction of the allowed motions, their number limits the dimension of the beam shape configuration space. 
 The cmposition of the two configuration spaces is then discretized using a matrix of basis functions and a vector of strain generalized coordinates. 
 
 Boyer et al\cite{boyer_dynamics_2019} developed the Lagrangian model for this the floating beam which is similar to the one for serial robots. 
 In order to use the model on the PCR, all the terms have to be computed numerically at each time step. In Boyer et al work\cite{boyer_dynamics_2019} they propose to obtain the PCR Lagrangian model starting from a similar one but applied to a virtual serial mechanism. They use one of the algorithm proposed by Walker et al\cite{walker_efficient_1982}. The idea is to reconstruct all the matrices of the model with an interative process. To this end, algorithms for computing the forward and inverse dynamics are presented and detailed in Featherstone's book \cite{featherstone_rigid_2008}.

 
 \section{Isogeometric Collocation Analysis}
 The ICA is a geometrically exact method: no approximation are applied on the geometry of the rod. It allows to find the equilibrium configurations without numerically integrate the rod in its arc-lenght. 
 It relies on the properties of NURBS curves\cite{piegl_nurbs_1997}. NURBS curves can intuitively represent any vector field such as position or orientation in space. These curves are defined with a set of control points, that are points in the vector space, and some breakpoints and basis functions depending on the coordinate along the curve.
 
  The breackpoints are a set of points called knots placed along the curve, they define the range of activation for each basis functions. The basis functions link the influence of each control points to the curve as a function of the position along it. The basis function are recursively computed starting with a zero degree polinomial: it has a constant value in its range of definition and is zero outside from it. Basis function of greater order are define on top on previous ones. 
  
 As explained in the book of Piegl \cite{piegl_nurbs_1997} these curves have properties such as differentiabily and affine transformations. The differentiability is ensured by the continuity of the higher order basis functions while affine transformations to the curve can be obtained appllying the same transformations on the control points.
 
 These curves can describe any vector field. In literature\cite{weeger_isogeometric_2017-1}, they are used to describe the centerline position and cross-section orientation of a slender body. In order to account for the equlibrium equations we define new points along the curve: the collocation points. The equilibrium equations and constrains are evaluated at these points. The results of these computation defines a cost function that requires a non linear solver. The control points are the deegrees of freedom for minimizing the cost function.
 
 Additional features can be modeled with this approach. It is possible to determine frinctionless contact, and its effects, as presented by Weeger et al\cite{weeger_isogeometric_2017} either between two different rods or a rod with itself. The studies on the contact were extended in the frictional case in \cite{weeger_isogeometric_2018}. They also present a modelling for varying properties of the rod \cite{weeger_fully_2018}. Material and geometrical properties may vary along the rod axis or transversally in the rod section. Moreover, they proposed a modelling for the rods coupling \cite{weeger_isogeometric_2017-1}
 
 When it comes to deal with the rod dynamics, the method requires integration, defining thus an ODE system. The time derivative requires a discretization system, Weeger et al \cite{weeger_isogeometric_2018} propose the Crank-Nicolson model, proving its performances in numerical applications. 


 \chapter*{Conclusion}
 \addcontentsline{toc}{chapter}{Conclusion}
 Having investigated these methods, it is necessary to define an approach leading to the realization of the simulator. After having established the method or the combination of methods to implement, the simulation of a single static rod will be addressed. 
 
 

 \addcontentsline{toc}{chapter}{Bibliography}
 
 \bibliography{../biblio}
 
 
 
 
\end{document}
